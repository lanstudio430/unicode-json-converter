<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>Unicode & JSON 美化轉換器</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<script>
  tailwind.config = {
    theme: {
      extend: {
        animation: {
          'float': 'float 6s ease-in-out infinite',
          'pulse-slow': 'pulse 3s ease-in-out infinite',
        }
      }
    }
  }
</script>
</head>
<body class="min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 relative overflow-x-hidden">
  
  <!-- Floating Background Elements -->
  <div class="absolute inset-0 overflow-hidden pointer-events-none">
    <div class="absolute top-20 left-20 w-32 h-32 bg-blue-500/20 rounded-full blur-xl animate-pulse-slow"></div>
    <div class="absolute top-60 right-32 w-48 h-48 bg-purple-500/20 rounded-full blur-xl animate-pulse-slow" style="animation-delay: 2s;"></div>
    <div class="absolute bottom-32 left-1/3 w-24 h-24 bg-pink-500/20 rounded-full blur-xl animate-pulse-slow" style="animation-delay: 4s;"></div>
  </div>

  <div class="relative z-10 min-h-screen flex flex-col">
    
    <!-- Header -->
    <header class="text-center py-16">
      <div class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl mb-8 shadow-2xl shadow-blue-500/25 hover:scale-105 transition-transform duration-300">
        <i class="fas fa-exchange-alt text-3xl text-white"></i>
      </div>
      <h1 class="text-5xl md:text-6xl font-black bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent mb-4 tracking-tight">
        Unicode & JSON
      </h1>
      <p class="text-xl text-gray-300 font-light">極速轉換 · 完美格式化 · 即時預覽</p>
      
      <!-- Quick Stats -->
      <div class="flex justify-center gap-8 mt-8">
        <div class="text-center">
          <div class="text-2xl font-bold text-blue-400">∞</div>
          <div class="text-xs text-gray-400 uppercase tracking-wider">無限制</div>
        </div>
        <div class="text-center">
          <div class="text-2xl font-bold text-purple-400"><i class="fas fa-bolt"></i></div>
          <div class="text-xs text-gray-400 uppercase tracking-wider">即時轉換</div>
        </div>
        <div class="text-center">
          <div class="text-2xl font-bold text-pink-400"><i class="fas fa-shield-alt"></i></div>
          <div class="text-xs text-gray-400 uppercase tracking-wider">本地處理</div>
        </div>
      </div>
    </header>

    <!-- Main Container -->
    <main class="flex-1 px-6 pb-16">
      <div class="max-w-7xl mx-auto">
        
        <!-- Control Panel -->
        <div class="flex justify-center mb-8">
          <div class="bg-gray-800/50 backdrop-blur-xl rounded-2xl p-2 border border-gray-700/50 shadow-2xl">
            <div class="flex gap-2">
              <button 
                id="convertBtn"
                class="group flex items-center gap-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold px-8 py-4 rounded-xl transition-all duration-300 shadow-lg hover:shadow-blue-500/25 hover:scale-105"
              >
                <i class="fas fa-magic group-hover:animate-spin"></i>
                <span>轉換魔法</span>
              </button>
              
              <button 
                id="copyBtn"
                class="group flex items-center gap-3 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold px-8 py-4 rounded-xl transition-all duration-300 shadow-lg hover:shadow-green-500/25 hover:scale-105"
              >
                <i class="fas fa-copy group-hover:animate-pulse"></i>
                <span>複製結果</span>
              </button>
              
              <button 
                id="clearBtn"
                class="group flex items-center gap-3 bg-gray-700 hover:bg-red-600 text-gray-300 hover:text-white font-semibold px-6 py-4 rounded-xl transition-all duration-300 shadow-lg hover:shadow-red-500/25"
              >
                <i class="fas fa-trash-alt group-hover:animate-bounce"></i>
              </button>
            </div>
          </div>
        </div>

        <!-- Main Work Area -->
        <div class="grid xl:grid-cols-2 gap-8">
          
          <!-- Input Panel -->
          <div class="group">
            <div class="bg-gray-800/40 backdrop-blur-xl rounded-3xl border border-gray-700/50 shadow-2xl hover:shadow-blue-500/10 transition-all duration-500 overflow-hidden">
              
              <!-- Panel Header -->
              <div class="flex items-center justify-between px-6 py-4 border-b border-gray-700/50 bg-gray-800/60">
                <div class="flex items-center gap-3">
                  <div class="flex gap-2">
                    <div class="w-3 h-3 bg-red-500 rounded-full shadow-lg shadow-red-500/50"></div>
                    <div class="w-3 h-3 bg-yellow-500 rounded-full shadow-lg shadow-yellow-500/50"></div>
                    <div class="w-3 h-3 bg-green-500 rounded-full shadow-lg shadow-green-500/50"></div>
                  </div>
                  <span class="text-gray-300 font-medium flex items-center gap-2">
                    <i class="fas fa-edit text-blue-400"></i>
                    輸入編輯器
                  </span>
                </div>
                <div class="text-gray-500 text-sm font-mono">
                  <span id="charCount">0</span> 字符
                </div>
              </div>
              
              <!-- Input Area -->
              <div class="p-6">
                <textarea 
                  id="inputArea" 
                  placeholder="🚀 貼上您的 Unicode 編碼或 JSON 數據...&#10;&#10;支援格式:&#10;• Unicode 編碼 (\\u4e00\\u4e01)&#10;• JSON 字符串&#10;• 混合格式&#10;&#10;快捷鍵: Ctrl+Enter 轉換"
                  class="w-full h-96 p-6 bg-gray-900/80 border-2 border-gray-700/30 focus:border-blue-500/50 rounded-2xl text-gray-100 placeholder-gray-500 font-mono text-sm leading-relaxed resize-none transition-all duration-300 focus:ring-4 focus:ring-blue-500/20 focus:outline-none"
                ></textarea>
              </div>
            </div>
          </div>

          <!-- Output Panel -->
          <div class="group">
            <div class="bg-gray-800/40 backdrop-blur-xl rounded-3xl border border-gray-700/50 shadow-2xl hover:shadow-green-500/10 transition-all duration-500 overflow-hidden">
              
              <!-- Panel Header -->
              <div class="flex items-center justify-between px-6 py-4 border-b border-gray-700/50 bg-gray-800/60">
                <div class="flex items-center gap-3">
                  <div class="flex gap-2">
                    <div class="w-3 h-3 bg-red-500 rounded-full shadow-lg shadow-red-500/50"></div>
                    <div class="w-3 h-3 bg-yellow-500 rounded-full shadow-lg shadow-yellow-500/50"></div>
                    <div class="w-3 h-3 bg-green-500 rounded-full shadow-lg shadow-green-500/50"></div>
                  </div>
                  <span class="text-gray-300 font-medium flex items-center gap-2">
                    <i class="fas fa-terminal text-green-400"></i>
                    輸出終端
                  </span>
                </div>
                <div class="flex items-center gap-3">
                  <div class="flex items-center gap-2 text-sm">
                    <div class="w-2 h-2 rounded-full animate-pulse" id="statusDot"></div>
                    <span class="text-gray-400 font-mono text-xs" id="statusText">待命中</span>
                  </div>
                </div>
              </div>
              
              <!-- Output Area -->
              <div class="p-6">
                <pre 
                  id="output"
                  class="w-full h-96 p-6 bg-gray-900/80 border-2 border-gray-700/30 rounded-2xl text-green-300 font-mono text-sm leading-relaxed whitespace-pre-wrap break-words overflow-auto scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-800/50"
                >💡 輸出結果將在這裡顯示...

🔄 使用說明：
1. 在左側輸入您的數據
2. 點擊「轉換魔法」按鈕
3. 結果將自動美化並顯示在此

⚡ 快捷鍵：
• Ctrl + Enter: 快速轉換
• Ctrl + K: 清空內容</pre>
              </div>
            </div>
          </div>
        </div>

        <!-- Feature Showcase -->
        <div class="mt-16 grid md:grid-cols-4 gap-6">
          <div class="bg-gray-800/30 backdrop-blur-lg rounded-2xl p-6 border border-gray-700/30 text-center hover:bg-gray-800/50 transition-all duration-300 group hover:scale-105">
            <div class="inline-flex items-center justify-center w-12 h-12 bg-blue-600/20 rounded-xl mb-4 group-hover:bg-blue-600/30 transition-colors">
              <i class="fas fa-code text-blue-400 text-xl"></i>
            </div>
            <h3 class="text-white font-semibold mb-2">Unicode 解碼</h3>
            <p class="text-gray-400 text-sm">智能識別並轉換 Unicode 編碼字符</p>
          </div>
          
          <div class="bg-gray-800/30 backdrop-blur-lg rounded-2xl p-6 border border-gray-700/30 text-center hover:bg-gray-800/50 transition-all duration-300 group hover:scale-105">
            <div class="inline-flex items-center justify-center w-12 h-12 bg-purple-600/20 rounded-xl mb-4 group-hover:bg-purple-600/30 transition-colors">
              <i class="fas fa-magic text-purple-400 text-xl"></i>
            </div>
            <h3 class="text-white font-semibold mb-2">JSON 美化</h3>
            <p class="text-gray-400 text-sm">自動格式化與縮進 JSON 數據結構</p>
          </div>
          
          <div class="bg-gray-800/30 backdrop-blur-lg rounded-2xl p-6 border border-gray-700/30 text-center hover:bg-gray-800/50 transition-all duration-300 group hover:scale-105">
            <div class="inline-flex items-center justify-center w-12 h-12 bg-green-600/20 rounded-xl mb-4 group-hover:bg-green-600/30 transition-colors">
              <i class="fas fa-bolt text-green-400 text-xl"></i>
            </div>
            <h3 class="text-white font-semibold mb-2">即時處理</h3>
            <p class="text-gray-400 text-sm">本地快速處理，保護數據隱私安全</p>
          </div>
          
          <div class="bg-gray-800/30 backdrop-blur-lg rounded-2xl p-6 border border-gray-700/30 text-center hover:bg-gray-800/50 transition-all duration-300 group hover:scale-105">
            <div class="inline-flex items-center justify-center w-12 h-12 bg-pink-600/20 rounded-xl mb-4 group-hover:bg-pink-600/30 transition-colors">
              <i class="fas fa-keyboard text-pink-400 text-xl"></i>
            </div>
            <h3 class="text-white font-semibold mb-2">快捷操作</h3>
            <p class="text-gray-400 text-sm">支援鍵盤快捷鍵，提升工作效率</p>
          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="text-center py-8">
      <div class="text-gray-500 text-sm">
        <p class="flex items-center justify-center gap-2">
          Made with <i class="fas fa-heart text-red-500 animate-pulse"></i> using 
          <span class="text-blue-400 font-semibold">Tailwind CSS v3</span>
        </p>
      </div>
    </footer>
  </div>

<script>
function unicodeDecode(str) {
  return str.replace(/\\u[\dA-Fa-f]{4}/g, match =>
    String.fromCharCode(parseInt(match.replace("\\u",""),16))
  );
}

function updateStatus(message, type = 'ready') {
  const statusText = document.getElementById('statusText');
  const statusDot = document.getElementById('statusDot');
  
  statusText.textContent = message;
  
  switch(type) {
    case 'processing':
      statusDot.className = 'w-2 h-2 rounded-full animate-spin bg-blue-400';
      break;
    case 'success':
      statusDot.className = 'w-2 h-2 rounded-full animate-pulse bg-green-400';
      break;
    case 'error':
      statusDot.className = 'w-2 h-2 rounded-full animate-pulse bg-red-400';
      break;
    default:
      statusDot.className = 'w-2 h-2 rounded-full animate-pulse bg-gray-400';
  }
  
  if (type !== 'ready') {
    setTimeout(() => {
      updateStatus('待命中', 'ready');
    }, 3000);
  }
}

function updateCharCount() {
  const input = document.getElementById('inputArea').value;
  document.getElementById('charCount').textContent = input.length;
}

function convertAndBeautify(input) {
  try {
    updateStatus('轉換中...', 'processing');
    
    // 1. Unicode 解碼
    let decoded = unicodeDecode(input);
    // 2. 轉換冒號空格 =>，大括號轉方括號
    decoded = decoded.replace(/: /g, ' => ');
    // 嘗試 JSON 解析
    let obj;
    try { obj = JSON.parse(decoded); } catch(e) { obj = null; }
    // 3. 如果解析成功，自動美化縮排
    if(obj) {
      let beautified = JSON.stringify(obj, null, 2);
      // 最後再替換 { } -> [ ] 與冒號 => 
      beautified = beautified.replaceAll('{', '[').replaceAll('}', ']');
      beautified = beautified.replace(/: /g, ' => ');
      updateStatus('轉換完成 ✨', 'success');
      return beautified;
    } else {
      // 如果不是可解析 JSON，直接替換大括號與冒號
      let simple = decoded.replaceAll('{', '[').replaceAll('}', ']');
      simple = simple.replace(/: /g, ' => ');
      updateStatus('轉換完成 ✨', 'success');
      return simple;
    }
  } catch(e) {
    updateStatus('轉換失敗 ❌', 'error');
    return '❌ 解析失敗：' + e.message;
  }
}

// Event Listeners
document.getElementById('inputArea').addEventListener('input', updateCharCount);

document.getElementById('convertBtn').addEventListener('click', () => {
  const input = document.getElementById('inputArea').value;
  if (!input.trim()) {
    document.getElementById('output').textContent = '⚠️ 請輸入要轉換的內容\n\n💡 提示：您可以貼上 Unicode 編碼或 JSON 數據';
    updateStatus('請輸入內容', 'error');
    return;
  }
  
  const result = convertAndBeautify(input);
  document.getElementById('output').textContent = result;
});

document.getElementById('clearBtn').addEventListener('click', () => {
  document.getElementById('inputArea').value = '';
  document.getElementById('output').textContent = '💡 輸出結果將在這裡顯示...\n\n🔄 使用說明：\n1. 在左側輸入您的數據\n2. 點擊「轉換魔法」按鈕\n3. 結果將自動美化並顯示在此\n\n⚡ 快捷鍵：\n• Ctrl + Enter: 快速轉換\n• Ctrl + K: 清空內容';
  updateCharCount();
  updateStatus('已清空內容', 'success');
});

document.getElementById('copyBtn').addEventListener('click', async () => {
  const out = document.getElementById('output').textContent;
  if (out.includes('💡 輸出結果將在這裡顯示') || out.includes('請輸入要轉換的內容')) {
    updateStatus('沒有可複製的內容', 'error');
    return;
  }
  
  try {
    await navigator.clipboard.writeText(out);
    const btn = document.getElementById('copyBtn');
    const originalHtml = btn.innerHTML;
    btn.innerHTML = '<i class="fas fa-check animate-pulse"></i><span>已複製！</span>';
    btn.classList.add('from-green-700', 'to-green-800');
    btn.classList.remove('from-green-600', 'to-emerald-600');
    updateStatus('複製成功！', 'success');
    
    setTimeout(() => {
      btn.innerHTML = originalHtml;
      btn.classList.remove('from-green-700', 'to-green-800');
      btn.classList.add('from-green-600', 'to-emerald-600');
    }, 2000);
  } catch(e){
    updateStatus('複製失敗', 'error');
  }
});

// Keyboard shortcuts
document.addEventListener('keydown', (e) => {
  if (e.ctrlKey || e.metaKey) {
    if (e.key === 'Enter') {
      e.preventDefault();
      document.getElementById('convertBtn').click();
    } else if (e.key === 'k' || e.key === 'K') {
      e.preventDefault();
      document.getElementById('clearBtn').click();
    }
  }
});

// Initialize
updateCharCount();
updateStatus('待命中', 'ready');
</script>
</body>
</html>